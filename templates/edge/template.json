{
  "name": "edge-app",
  "description": "A Rust edge computing application template with WebAssembly support",
  "type": "library",
  "options": {
    "testing_approach": {
      "type": "select",
      "prompt": "How would you like to test your WebAssembly code?",
      "default": "browser_example",
      "values": [
        "browser_example",
        "headless_tests",
        "both"
      ],
      "help": {
        "browser_example": "Create an example HTML page to load and test your WebAssembly in a browser",
        "headless_tests": "Set up headless browser testing with wasm-pack test",
        "both": "Set up both browser example and headless tests"
      }
    },
    "static_server": {
      "type": "select",
      "prompt": "Which static file server would you like to use for browser testing?",
      "default": "miniserve",
      "values": [
        "miniserve",
        "static-web-server",
        "none"
      ],
      "help": {
        "miniserve": "A simple, zero-configuration static file server",
        "static-web-server": "A very fast and asynchronous web server for static files",
        "none": "Don't install any static file server"
      }
    }
  },
  "files": [
    {
      "source": "lib.rs",
      "target": "src/lib.rs"
    },
    {
      "source": "Cargo.toml.template",
      "target": "Cargo.toml"
    },
    {
      "source": "index.html.template",
      "target": "index.html",
      "condition": "testing_approach == 'browser_example' || testing_approach == 'both'"
    },
    {
      "source": "tests/web.rs.template",
      "target": "tests/web.rs",
      "condition": "testing_approach == 'headless_tests' || testing_approach == 'both'"
    }
  ],
  "next_steps": [
    "cd {{project_name}}",
    "wasm-pack build --target web",
    "# For browser testing: open index.html in your browser or use a static file server",
    "# For headless testing: wasm-pack test --headless --firefox",
    "# If you selected a static file server: {{static_server_command}}"
  ],
  "dependencies": {
    "default": [
      "wasm-bindgen = \"0.2\"",
      "js-sys = \"0.3\"",
      "web-sys = { version = \"0.3\", features = [\"console\", \"Window\", \"Document\"] }",
      "serde = { version = \"1.0\", features = [\"derive\"] }",
      "serde-wasm-bindgen = \"0.6\"",
      "anyhow = \"1.0\""
    ],
    "cloudflare": [
      "worker = \"0.0.18\"",
      "worker-macros = \"0.0.9\""
    ],
    "deno": [
      "deno_core = \"0.264\"",
      "deno_runtime = \"0.140\""
    ],
    "netlify": [
      "netlify_lambda_http = \"0.5\""
    ]
  },
  "dev-dependencies": {
    "default": [
      "wasm-pack = \"0.12\"",
      "wasm-bindgen-test = \"0.3\"",
      "console_error_panic_hook = \"0.1\"",
      "wee_alloc = \"0.4\""
    ]
  }
}
